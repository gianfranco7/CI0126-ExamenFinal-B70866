@{
    ViewBag.Title = "ShoppingCart";
}
<!DOCTYPE html>
<html>
<head>
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
</head>
<body>
    <br />
    <h2 class="text-center">
        Mi Carrito de Compras
    </h2>
    <br />
    <div class="row">
        @{
            foreach (var product in ViewBag.productsInCart)
            {
                <div class="col-sm-4 container">
                    <div class="card" style="width:400px">
                        <img src=@Url.Action("fileAccess", "Product", new { productID = product.id }) style="width:300px;height:300px;" />
                        <div class="card-body">
                            <h6 class="card-title">@product.name</h6>
                            <p class="card-text"> @product.amount unidades</p>
                            <p class="card-text">Precio por unidad: @product.price colones</p>
                            <div class="btn-outline-success">Descuento aplicado: @product.appliedDiscount   </div>
                        </div>
                    </div>
                    <br>
                </div>
            }
        }
    </div>
    <h3> Subtotal: @ViewBag.subTotalPrice colones </h3>
    <h3> Total con descuento aplicado: @ViewBag.subTotalPrice-@ViewBag.totalDiscount = @ViewBag.totalPrice colones</h3>
    @Html.ActionLink("Proceder a Checkout", "buyProducts", "Product", new { @class = "btn btn-info btn-lg" })
    @Html.ActionLink("Volver a Lista de Productos", "productList", "Product", new { @class = "btn btn-info btn-lg" })
</body>
</html>

